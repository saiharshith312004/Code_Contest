spring.application.name=accountservice

# Oracle Database Configuration
spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/freepdb1
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.username=harshith
spring.datasource.password=Harshith_31

# Hikari Connection Pool Configuration
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.auto-commit=true

# JPA/Hibernate
# Use Oracle12cDialect for better compatibility with Oracle 23c
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Server Configuration
server.port=8085

# Allow bean definition overriding
spring.main.allow-bean-definition-overriding=true

# Feign Client Configuration
feign.client.config.default.loggerLevel=FULL
feign.client.config.default.connectTimeout=5000
feign.client.config.default.readTimeout=5000
feign.client.config.default.compression.request.enabled=true
feign.client.config.default.compression.response.enabled=true
feign.compression.request.enabled=true
feign.compression.response.enabled=true
feign.okhttp.enabled=true

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.onboarding.accountservice.client=DEBUG
logging.level.feign=DEBUG

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=account-service-group-test-1
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
# Using String deserializer for value as we'll handle JSON conversion manually
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Auth Service Configuration
auth.service.url=http://localhost:8080

# Service account credentials for Auth Service
auth.service.username=sumith
auth.service.password=sumith

# 2FA Configuration (must match the secret in Auth Service)
auth.service.2fa.secret=YTGI6PSAZPVW7JVF

# JWT Configuration (must match Auth Service's configuration)
jwt.secret=TXlTZWNyZXRLZXlGb3JKd3RTaG91bGRCZUxvbmdFbm91Z2g=
jwt.expiration=86400000

# Enable debug logging for troubleshooting
logging.level.org.springframework.web.client.RestTemplate=DEBUG
logging.level.com.onboarding.accountservice=DEBUG
logging.level.org.springframework.kafka=DEBUG

# Kafka Topic Names
kafka.topic.kyc-verified=kyc-verified-topic
